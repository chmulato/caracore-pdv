/*C11*/SET SCHEMA PUBLIC
alter table produto drop constraint FKopu9jggwnamfv0c8k2ri3kx0a
alter table produto drop constraint FKjwfodivt9e04sad1s7u0ya4jq
drop table categoria if exists
drop table marca if exists
drop table produto if exists
drop table usuario if exists
drop table vendedor if exists
drop table vinho if exists
create table categoria (codigo bigint generated by default as identity (start with 1), nome varchar(255) not null, primary key (codigo))
create table marca (codigo bigint generated by default as identity (start with 1), nome varchar(255) not null, primary key (codigo))
create table produto (codigo bigint generated by default as identity (start with 1), codigo_barra bigint, controlar_estoque varchar(255) not null, data_atualizacao date not null, data_validade date, descricao varchar(60), estoque_atual integer, estoque_minimo integer, imagem varchar(255), localizacao varchar(255), margemaprazo numeric(19,2), margemavista numeric(19,2) not null, margem_atacado numeric(19,2), nome varchar(30) not null, referencia varchar(255), tipo_produto varchar(255) not null, unidade varchar(255) not null, valor_custo numeric(19,2) not null, categoria_id bigint, marca_id bigint, primary key (codigo))
create table usuario (codigo bigint generated by default as identity (start with 1), email varchar(30) not null, nome varchar(15) not null, perfil varchar(255) not null, senha varchar(15) not null, primary key (codigo))
create table vendedor (codigo bigint generated by default as identity (start with 1), nome varchar(255) not null, tipo varchar(255) not null, primary key (codigo))
create table vinho (codigo bigint generated by default as identity (start with 1), nome varchar(255) not null, tipo varchar(255) not null, valor numeric(19,2) not null, primary key (codigo))
alter table produto add constraint FKopu9jggwnamfv0c8k2ri3kx0a foreign key (categoria_id) references categoria
alter table produto add constraint FKjwfodivt9e04sad1s7u0ya4jq foreign key (marca_id) references marca
INSERT INTO USUARIO VALUES(1,'chmulato@hotmail.com','master','ADMINISTRADOR','123456')
COMMIT
INSERT INTO USUARIO VALUES(2,'chmulato@hotmail.com','maria','USUARIO','1234')
COMMIT
INSERT INTO USUARIO VALUES(3,'chmulato@hotmail.com','joao','VISITANTE','1234')
COMMIT
