/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C11*/SET SCHEMA PUBLIC
drop table item_venda if exists
drop table loja if exists
drop table produto if exists
drop table usuario if exists
drop table venda if exists
drop table vendedor if exists
drop table vinho if exists
create table item_venda (codigo bigint generated by default as identity (start with 1), desconto numeric(19,2), preco_unitario numeric(19,2) not null, quantidade integer not null, produto_id bigint not null, venda_id bigint not null, primary key (codigo))
create table loja (codigo bigint generated by default as identity (start with 1), nome varchar(20) not null, primary key (codigo))
create table produto (codigo bigint not null, descricao varchar(30) not null, valor numeric(19,2) not null, primary key (codigo))
create table usuario (codigo bigint generated by default as identity (start with 1), email varchar(30) not null, nome varchar(15) not null, perfil varchar(255) not null, senha varchar(15) not null, primary key (codigo))
create table venda (codigo bigint generated by default as identity (start with 1), data date not null, desconto_total numeric(19,2), sub_total numeric(19,2) not null, vendedor_id bigint not null, primary key (codigo))
create table vendedor (codigo bigint generated by default as identity (start with 1), nome varchar(255) not null, tipo varchar(255) not null, loja_id bigint not null, primary key (codigo))
create table vinho (codigo bigint generated by default as identity (start with 1), nome varchar(255) not null, tipo varchar(255) not null, valor numeric(19,2) not null, primary key (codigo))
alter table item_venda add constraint FK7wkinkvno0wlhv821hhu34y04 foreign key (produto_id) references produto
alter table item_venda add constraint FKkiky88fkai72328rhw3r3yebx foreign key (venda_id) references venda
alter table venda add constraint FKg2elbfxxrfufnbt699lao742h foreign key (vendedor_id) references vendedor
alter table vendedor add constraint FKsxtkqa9edj64desm49xppcwvp foreign key (loja_id) references loja
INSERT INTO USUARIO VALUES(1,'chmulato@hotmail.com','master','ADMINISTRADOR','123456')
COMMIT
INSERT INTO USUARIO VALUES(2,'chmulato@hotmail.com','maria','USUARIO','1234')
COMMIT
INSERT INTO USUARIO VALUES(3,'chmulato@hotmail.com','joao','VISITANTE','1234')
COMMIT
INSERT INTO LOJA VALUES(1,'Nome da Loja 1')
COMMIT
INSERT INTO LOJA VALUES(2,'Nome da Loja 2')
COMMIT
INSERT INTO VENDEDOR VALUES(1,'maria','COMISSIONADO',1)
COMMIT
INSERT INTO VENDEDOR VALUES(2,'joao','COMISSIONADO',1)
COMMIT
INSERT INTO PRODUTO VALUES(1,'CamisaPolo',80.90)
COMMIT
INSERT INTO PRODUTO VALUES(2,'CamisaSocial',134.90)
COMMIT
INSERT INTO PRODUTO VALUES(3,'ShortEsporte',40.90)
COMMIT
INSERT INTO VINHO VALUES(1,'Coracao_De_Leao','TINTO',18.90)
COMMIT
INSERT INTO VINHO VALUES(2,'Argentino','ROSE',14.90)
COMMIT
DELETE FROM VINHO WHERE CODIGO=1
INSERT INTO VINHO VALUES(1,'Cora\u00e7\u00e3o de Le\u00e3o','TINTO',18.90)
COMMIT
DELETE FROM VINHO WHERE CODIGO=2
INSERT INTO VINHO VALUES(2,'Vinho Argentino','ROSE',14.90)
COMMIT
DELETE FROM PRODUTO WHERE CODIGO=1
INSERT INTO PRODUTO VALUES(1,'Camisa Polo',80.90)
COMMIT
DELETE FROM PRODUTO WHERE CODIGO=2
INSERT INTO PRODUTO VALUES(2,'Camisa Social',134.90)
COMMIT
DELETE FROM PRODUTO WHERE CODIGO=3
INSERT INTO PRODUTO VALUES(3,'Shorts Esporte',40.90)
COMMIT
